# Utility Scripts

## Installation

### Prerequisites

* [Python](https://www.python.org/downloads/)
* [Graphviz](https://graphviz.org/download/) for creating provenance graphs of translation entities.

### Installation

```sh
pip install -r requirements.txt
```

## Usage

### grap_prov.py

This script generates a provenance graph from a PROV-JSON file containing the edit history of a translation entity.

```sh
python graph_prov.py <prov.json>
```

### gcs_download_prov.py

This script downloads PROV-JSON files from a Google Cloud Storage bucket. These files are generated by the [Seed-CAT](https://github.com/josecols/seed-cat/tree/main/seed-cat) application when it is configured with the `GOOGLE_APPLICATION_CREDENTIALS` and `GCS_BUCKET` environment variables. 

```sh
python gcs_download_prov.py --prefix "<gcs-path-prefix>" --bucket "<gcs-bucket>" --directory "<local-target-directory>"
```

### gcs_download_translations.py

This script downloads and combine all translation files from a Google Cloud Storage bucket. These files are generated by the [Seed-CAT](https://github.com/josecols/seed-cat/tree/main/seed-cat) application when it is configured with the `GOOGLE_APPLICATION_CREDENTIALS` and `GCS_BUCKET` environment variables. The output file is `corpus.txt`.

```sh
python gcs_download_prov.py --prefix "<gcs-path-prefix>" --bucket "<gcs-bucket>"
```
